# クラスと属性(インスタンス変数)と操作(メソッド)

## 設計（大枠）

### IOクラス

- 役割：投球結果（ARGV）の読み込みと、スコア計算結果の表示
  意図：読みやすさ。「新ルール」追加する場合の対応場所（今回は不要ですが）

- 属性(インスタンス変数)：なし
- 操作(メソッド)
  - self.result(argv)
    内容：投球結果（ARGV）の読み込みと、スコア計算結果の表示

### Gameクラス

- 役割：投球結果を解析。スコアを計算。

- 属性(インスタンス変数)：
  - total_score
- 操作(メソッド)
  - initialize(argv)
    - fit_results_to_frame
      内容：フレームに合うように、「X」と「10フレーム追加投球」の後にnilを追加した配列を返す
      - cover_extrashot
        「10フレームの追加投球」の後について対応
  - total_score
    内容：ベーススコア（Frameクラス） + スペアボーナス + ストライクボーナス
    - spare_bonus
      内容：スペアの次フレームfirst_shotを合計
      メモ：ここではスペアだけ分かれば十分
    - strike_bonus
      内容：ストライクの次とその次を合計
      メモ：投球結果(@results)からが計算しやすい。nilを除外して計算

### Frameクラス

役割：frameを形成する

- 属性(インスタンス変数)
  - frames
  - base_score
- 操作(メソッド)
  - initialize(results_offset):
    内容：shotの配列を受け取り、上記属性を生成
  - put_into_frames :
    内容：キーにフレーム番号、値にショットの配列を持つハッシュを生成
  - calc_base_score
    内容：10フレームまでの投球結果（倒したピン数）合計を算出

### Shotクラス

役割：shotの情報を保持

- 属性(インスタンス変数)
  - score:
    内容：投球結果を数値データに変換したもの
  - mark:
    内容：投球結果（文字列のまま）
- 操作(メソッド)
  - initialize(shot):
    内容：shot（文字列）から、上記属性を算出
